# GLSL スクール 2016 #3
今回のテーマは頂点シェーダの活用。
http://school.souhonzan.org/201610/003/

- 海の中のシーンにゆらぐエフェクトをかけるのにはどうするのが適当か。
  - シーン全体に均一の効果をあたえるならフラグメントシェーダがよい。
  - 頂点シェーダは頂点がないところに揺らぎ係数を与えることができない。
- 霧の中のシーンで奥のオブジェクトほど霞む演出を加えるのには？
  - 頂点シェーダがふさわしい。
- 頂点シェーダとフラグメントシェーダは、それぞれの性質に合わせた適切な使い分けを行なってやることがとても大事。

## 頂点シェーダと座標変換
- 3DCG には 正規化デバイス座標空間 という座標系がある。
  - XYZ の全ての座標系が -1.0 から 1.0 の範囲に正規化された状態になっていることを前提とする座標空間のこと。
- gl_Position は、この正規化デバイス座標系で頂点の座標を受け取ることになっている。
- その範囲に納まっていない頂点は描画しない。
- 3DCG の座標変換の役割は、正規化された空間に頂点が指定されたとおりに収まるように変換することにある。
- 行列とはあくまでも、3D 描画を行う際の煩わしい変換作業を、簡単に行えるようにするための道具に過ぎない。

## easing
- mod（剰余算）を使って、timeを足しっぱなしにしてもeasing用のtimeがループするようにできる。
  - max(mod(time, 2.0) - 1.0, 0.0)
- stepを駆使して複数のpositionのどれを参照するかを決める。
  - stepは二値化。第1引数の値を超える場合は1を、超えない場合は0を返す。
- mix（線形補間）第1、第2引数はfloat or vec、第3引数は0.0から1.0。

## プラスワン講義 頂点シェーダーを活かすための基礎の基礎

- 行列ってそもそも何のために必要なのか。
- なぜ4次元のデータを使用するのか。
- フラグメントシェーダは処理数が多くなる
- 頂点シェーダは描画しないものについても処理しないといけない。
- 二次元ベクトルなら行列を使わなくても移動、回転、拡大できる。
  - 組み合わせるとどんどん計算が大変になる。
  - 組み合わせて計算しても常に(a, b, c, d)の形式で返ってくることが決まっている。すごい。
  - (a, b, c, d)を予め決めておいて、頂点ごと一律の計算をしてやれば効率がいい。
- +1次元してせん断すると、一つ下の次元では平行移動に見える。（アフィン変換）
- normalのような方向を示すベクトルは平行移動するとおかしくなる。
